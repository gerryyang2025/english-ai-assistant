# 英语单词记忆网站设计方案

## 1 项目概述

### 1.1 核心目标
为英语学习爱好者设计一个交互式英语学习网站，通过多种学习方式帮助高效记忆英语单词。

### 1.2 设计原则
- **简洁友好**：界面清晰，操作简单，适合各年龄段学习者
- **循序渐进**：支持按教材单元组织内容，从易到难
- **多感官学习**：结合视觉（闪卡）、听觉（发音）、动觉（交互）三种记忆方式
- **数据驱动**：通过进度追踪和错题记录，优化学习路径

---

## 2 功能架构

### 2.1 核心功能模块
| 模块 | 功能描述 |
|------|----------|
| 单词浏览 | 按词书单元展示单词，支持搜索和分页 |
| 闪卡测试 | 翻转卡片式测试，支持中英文双向测试 |
| 阅读练习 | 阅读材料跟读，支持逐句语音播放 |
| 错题本 | 记录错词和错句，支持针对性复习 |
| 收藏管理 | 收藏喜欢的单词，方便集中复习 |
| AI 助手 | 智能问答，解答语法和单词用法问题 |

### 2.2 数据流设计
```
用户选择单元 → 生成测试题目 → 记录回答结果 → 更新学习进度
                              ↓
                    错题本 / 收藏 / 统计
```

---

## 3 技术方案

### 3.1 技术栈
- **前端**：HTML5 + CSS3 + 原生 JavaScript
- **后端**：Python Flask（API 代理，保护 API Key）
- **存储**：JSON 文件（静态数据） + localStorage（用户进度）
- **语音**：Web Speech API（浏览器内置语音合成）

### 3.2 架构特点
- 前后端分离，前端完全静态化
- 用户数据存储在浏览器本地，隐私安全
- 后端仅用于 API 代理，无复杂业务逻辑
- **浏览器兼容性：仅支持 Chrome 浏览器（桌面版和移动版）**
- 利用 Chrome 专有特性优化用户体验（如高级 CSS 动画、Web Speech API 完整支持）

---

## 4 核心设计模式

### 4.1 状态管理
采用全局状态对象（AppState）管理应用数据：
- 单词数据、阅读数据（静态数据）
- 用户进度、错题本、收藏（持久化数据）
- 当前会话状态（临时数据）

### 4.2 页面切换
使用单页面应用（SPA）模式，通过 CSS 类控制页面显隐：
- 所有页面预先加载，通过 `active` 类切换显示
- 页面切换时触发对应的初始化函数

### 4.3 事件处理
- 优先使用 addEventListener 绑定事件，避免 HTML 内联 onclick
- 特殊场景使用事件委托，减少内存占用
- 页面级事件在页面首次激活时绑定

### 4.4 数据排重
- 复习场景保留原始数据的唯一标识符（id）
- 添加数据前先检查是否已存在
- 避免因动态生成的 ID 导致重复添加

---

## 5 用户界面设计

### 5.1 视觉风格
- **主色调**：蓝色系，代表学习和信任
- **辅助色**：绿色（正确）、红色（错误）
- **背景色**：浅灰色/浅蓝色，护眼设计
- **动画效果**：卡片翻转、页面切换淡入淡出

### 5.2 响应式设计（Chrome 浏览器优化）
采用移动端优先策略，四个断点适配不同设备（Chrome 浏览器特性优化）：
- 默认：桌面设备（>768px）
- 平板：481px - 768px
- 手机：361px - 480px
- 小屏：≤360px
- **利用 Chrome 专有 CSS 特性实现流畅动画效果**

---

## 6 常见问题设计准则

### 6.1 HTML 属性传参
避免在 HTML 属性中直接传递包含特殊字符的文本：
- 使用索引传递方式替代文本传递
- 通过全局状态存储数据，函数根据索引获取内容

### 6.2 输入框按键处理
在输入框中处理特殊按键时：
- 空格键需要阻止默认行为（避免页面滚动）
- 方向键需要阻止默认行为（避免光标移出输入框）
- 必要时保存和恢复滚动位置

### 6.3 复习场景数据保留
复习功能中需要保留原始数据的唯一标识符：
- 复习错句时保留原始错句的 id
- 复习错词时保留原始单词的 id
- 使用原始 id 进行排重检查
