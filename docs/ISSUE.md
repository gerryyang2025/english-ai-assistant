# 问题记录

## 1. 错题本句子播放失败

**问题：** 包含单引号的句子无法播放语音。

**原因：** 在 HTML onclick 属性中直接传递包含单引号的文本，JavaScript 解析时单引号提前结束字符串，导致代码出错。

**解决：** 使用索引传递方式替代文本传递，通过全局状态存储数据，函数根据索引从数据中获取内容。

---

## 2. 语句输入时光标跳离

**问题：** 在输入框中按空格键或某些按键时，页面意外滚动。

**原因：** 输入框的 keydown 事件未阻止空格键的默认行为，同时缺少滚动位置锁定机制。

**解决：** 在 keydown 和 input 事件中调用 preventDefault() 阻止默认行为，并保存/恢复滚动位置。

---

## 3. 错句复习重复添加

**问题：** 复习错句时重复回答错误会导致同一句子被多次添加到错句列表。

**原因：** 复习功能将错句转换为练习格式时未保留原始 id，检查答案时动态生成 id，导致每次错误都产生新的标识，无法触发排重逻辑。

**解决：** 保留原始数据的唯一标识符，复习场景中复用原始标识系统。
